<TestScript xmlns="http://hl7.org/fhir">
	<contained>
		<TestScript>
			<id value="conditionals"/>
			<test>
				<name value="chip_star"/>
				<action>
					<operation>
					<description value="looking for chip star"/>
						<type>
							<code value="search"/>
						</type>
						<resource value="Patient"></resource>
						<contentType value="json"></contentType>
						<params value="?given=Chip&amp;family=Star"></params>
						<responseId value="patient1-search"/>
					</operation>
				</action>
				<action>
					<assert>
						<description value="chip star not available"/>
						<expression value="Bundle.total"/>
						<operator value="equals"/>
						<value value="0"/>
						<warningOnly value="false"/>
					</assert>
				</action>
			</test>
		</TestScript>
	</contained>
	<fixture id="patient1">
        <!--
           This patient comes out of the test definition
        -->
		<resource>
			<reference value="Patient/patient1.xml"/>
		</resource>
	</fixture>
	<test>
		<description value="Submit Provide Document Bundle to MHD Document Recipient and verify response. The DocumentReference is not Comprehensive Metadata compliant. It is missing the masterIdentifier."/>
		<modifierExtension url="conditionals">     <!-- the contained TestScript -->
			<valueString value="chip_star"/>  <!-- the specific test that must "pass" to enable this -->
		</modifierExtension>
		<action>
			<operation>
                <!-- references patient from resourceCache in EC -->
				<description value="Submit Patient1"/>
				<type>
					<code value="create"/>
				</type>
				<sourceId value="patient1"/>
				<responseId value="patient1-response"/>
			</operation>
		</action>
	</test>
</TestScript>
